<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Eats - Menu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HEADER -->
  <header>
    <h1>AI Eats</h1>

    <nav>
      <div class="nav-left">
        <a href="login.html" id="auth-link">Login/Register</a>
      </div>

      <div class="nav-center">
        <a href="index.html">Home</a>
        <a href="menu.html">Menu</a>
        <a href="chat.html">AI Chat</a>
      </div>

      <div class="nav-right">
        <a href="cart.html">üõí Cart (<span id="cart-count">0</span>)</a>
      </div>
    </nav>
  </header>

  <!-- MENU SECTION -->
  <section class="menu">
    <h2>Our Menu</h2>
    <div class="menu-grid">

      <div class="menu-card">
        <img src="images/spaghetti_bolognese.jpeg" alt="Spaghetti Bolognese">
        <h3>Spaghetti Bolognese</h3>
        <p>Classic Italian pasta with meat sauce.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span>
          <span class="rating-text">4.6 (203 reviews)</span>
        </div>
        <span class="price">$12.99</span>
        <button class="add-to-cart" onclick="addToCart('Spaghetti Bolognese')">Add to Cart</button>
      </div>

      <div class="menu-card">
        <img src="images/salad.jpeg" alt="Grilled Chicken Salad">
        <h3>Grilled Chicken Salad</h3>
        <p>Fresh greens with chicken and dressing.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
          <span class="rating-text">4.7 (145 reviews)</span>
        </div>
        <span class="price">$10.99</span>
        <button class="add-to-cart" onclick="addToCart('Grilled Chicken Salad')">Add to Cart</button>
      </div>

      <div class="menu-card">
        <img src="images/margherita_pizza.jpeg" alt="Margherita Pizza">
        <h3>Margherita Pizza</h3>
        <p>Tomatoes, mozzarella, and fresh basil.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
          <span class="rating-text">4.8 (267 reviews)</span>
        </div>
        <span class="price">$14.99</span>
        <button class="add-to-cart" onclick="addToCart('Margherita Pizza')">Add to Cart</button>
      </div>

      <div class="menu-card">
        <img src="images/chicken_parmesan.jpeg" alt="Chicken Parmesan">
        <h3>Chicken Parmesan</h3>
        <p>Breaded chicken topped with marinara and cheese.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
          <span class="rating-text">4.9 (178 reviews)</span>
        </div>
        <span class="price">$15.99</span>
        <button class="add-to-cart" onclick="addToCart('Chicken Parmesan')">Add to Cart</button>
      </div>

      <div class="menu-card">
        <img src="images/penne_alla_vodka.jpeg" alt="Penne alla Vodka">
        <h3>Penne alla Vodka</h3>
        <p>Pasta in a creamy tomato-vodka sauce.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span>
          <span class="rating-text">4.5 (134 reviews)</span>
        </div>
        <span class="price">$13.99</span>
        <button class="add-to-cart" onclick="addToCart('Penne alla Vodka')">Add to Cart</button>
      </div>

      <div class="menu-card">
        <img src="images/chicken_wings.jpeg" alt="Chicken Wings">
        <h3>Chicken Wings</h3>
        <p>Spicy and crispy chicken wings with dipping sauce.</p>
        <div class="dish-rating">
          <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
          <span class="rating-text">4.7 (298 reviews)</span>
        </div>
        <span class="price">$11.99</span>
        <button class="add-to-cart" onclick="addToCart('Chicken Wings')">Add to Cart</button>
      </div>

    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    &copy; 2025 AI Eats. All rights reserved.
  </footer>

  <!-- ADD TO CART SCRIPT -->
  <script>
    const menuItems = {
      'Spaghetti Bolognese': {
        name: 'Spaghetti Bolognese',
        price: 12.99,
        description: 'Classic Italian pasta with meat sauce.',
        image: 'images/spaghetti_bolognese.jpeg',
        vipOnly: false
      },
      'Grilled Chicken Salad': {
        name: 'Grilled Chicken Salad',
        price: 10.99,
        description: 'Fresh greens with chicken and dressing.',
        image: 'images/salad.jpeg',
        vipOnly: false
      },
      'Margherita Pizza': {
        name: 'Margherita Pizza',
        price: 14.99,
        description: 'Tomatoes, mozzarella, and fresh basil.',
        image: 'images/margherita_pizza.jpeg',
        vipOnly: false
      },
      'Chicken Parmesan': {
        name: 'Chicken Parmesan',
        price: 15.99,
        description: 'Breaded chicken topped with marinara and cheese.',
        image: 'images/chicken_parmesan.jpeg',
        vipOnly: false
      },
      'Penne alla Vodka': {
        name: 'Penne alla Vodka',
        price: 13.99,
        description: 'Pasta in a creamy tomato-vodka sauce.',
        image: 'images/penne_alla_vodka.jpeg',
        vipOnly: false
      },
      'Chicken Wings': {
        name: 'Chicken Wings',
        price: 11.99,
        description: 'Spicy and crispy chicken wings with dipping sauce.',
        image: 'images/chicken_wings.jpeg',
        vipOnly: false
      }
    };

    function addToCart(itemName) {
      const item = menuItems[itemName];
      const isVIP = localStorage.getItem("isVIP") === "true";
      
      // Check if item is VIP-only and user is not VIP
      if (item.vipOnly && !isVIP) {
        alert("This item is exclusive to VIP members!\n\nUpgrade to VIP membership to access premium dishes.");
        return;
      }
      
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      
      // Check if item already exists in cart
      const existingItem = cart.find(cartItem => cartItem.name === itemName);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          ...item,
          quantity: 1
        });
      }
      
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCount();
      
      // Show success message
      const btn = event.target;
      const originalText = btn.textContent;
      btn.textContent = 'Added!';
      btn.style.backgroundColor = '#4CAF50';
      
      setTimeout(() => {
        btn.textContent = originalText;
        btn.style.backgroundColor = '';
      }, 1000);
    }

    function updateCartCount() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById("cart-count").textContent = totalItems;
    }

    function updateAuthStatus() {
      const isLoggedIn = localStorage.getItem("isLoggedIn");
      const username = localStorage.getItem("username");
      const isVIP = localStorage.getItem("isVIP") === "true";
      const authLink = document.getElementById("auth-link");
      
      if (isLoggedIn === "true" && username) {
        const vipIcon = isVIP ? "üëë " : "";
        authLink.textContent = `üë§ ${vipIcon}${username}`;
        authLink.href = "profile.html";
      } else {
        authLink.textContent = "Login/Register";
        authLink.href = "login.html";
      }
    }

    updateCartCount();
    updateAuthStatus();
  </script>

</body>
</html>
