<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Eats - Complaints & Compliments</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <h1>AI Eats</h1>
    <nav>
      <div class="nav-left">
        <a href="profile.html" id="auth-link">Profile</a>
      </div>
      <div class="nav-center">
        <a href="index.html">Home</a>
        <a href="menu.html">Menu</a>
        <a href="chat.html">AI Chat</a>
      </div>
      <div class="nav-right">
        <a href="cart.html"> Cart (<span id="cart-count">0</span>)</a>
      </div>
    </nav>
  </header>

  <!-- COMPLAINTS SECTION -->
  <section class="complaints-section">
    <div class="complaints-container">
      <h2>Complaints & Compliments</h2>
      
      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="file">File New</button>
        <button class="tab-btn" data-tab="submitted">My Submissions</button>
        <button class="tab-btn" data-tab="received">Received</button>
      </div>

      <!-- File Complaint/Compliment Tab -->
      <div id="file-tab" class="tab-content active">
        <div class="form-card">
          <h3>File a Complaint or Compliment</h3>
          <form id="complaint-form">
            <div class="form-group">
              <label>Type</label>
              <div class="type-selector">
                <button type="button" class="type-btn active" data-type="complaint">
                  Complaint
                </button>
                <button type="button" class="type-btn" data-type="compliment">
                  Compliment
                </button>
              </div>
              <input type="hidden" id="selected-type" value="complaint">
            </div>

            <div class="form-group">
              <label for="entity-type">About</label>
              <select id="entity-type" required>
                <option value="">Select what this is about...</option>
                <option value="Chef">Chef (Food Quality/Preparation)</option>
                <option value="DeliveryPerson">Delivery Person (Delivery Service)</option>
                <option value="Order">Order (General Order Issues)</option>
                <option value="Dish">Dish (Specific Menu Item)</option>
              </select>
            </div>

            <div class="form-group">
              <label for="rating">Rating (Stars)</label>
              <div class="star-rating">
                <span class="star" data-rating="1">[o]</span>
                <span class="star" data-rating="2">[o]</span>
                <span class="star" data-rating="3">[o]</span>
                <span class="star" data-rating="4">[o]</span>
                <span class="star" data-rating="5">[o]</span>
              </div>
              <input type="hidden" id="rating" value="0">
              <small style="color: #666; font-size: 12px; display: block; margin-top: 5px;">
                Click stars to rate (1-5 stars). Leave at 0 for complaints without rating.
              </small>
            </div>

            <div class="form-group">
              <label for="target-user">Recipient ID</label>
              <input type="text" id="target-user" placeholder="Enter the User ID or Order ID" required>
              <small style="color: #666; font-size: 12px; display: block; margin-top: 5px;">
                You can find User IDs in your order history or Order IDs on your orders page.
              </small>
            </div>

            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" rows="5" placeholder="Describe your complaint or compliment..." required></textarea>
            </div>

            <p id="form-message" style="color: #666; font-size: 14px;"></p>
            <button type="submit" class="btn-primary">Submit</button>
          </form>
        </div>
      </div>

      <!-- Submitted Complaints Tab -->
      <div id="submitted-tab" class="tab-content">
        <div class="complaints-list">
          <h3>My Submissions</h3>
          <div id="submitted-list">
            <p class="loading">Loading...</p>
          </div>
        </div>
      </div>

      <!-- Received Complaints Tab -->
      <div id="received-tab" class="tab-content">
        <div class="complaints-list">
          <h3>Complaints/Compliments Received</h3>
          <div id="received-list">
            <p class="loading">Loading...</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 AI Eats. All rights reserved.</p>
  </footer>

  <script src="js/complaints.js"></script>
  <script src="js/complaints.js"></script>
</body>
</html>
